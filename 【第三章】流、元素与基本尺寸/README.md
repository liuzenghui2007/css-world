# 【第三章】流、元素与基本尺寸
HTML标签通常分为块级元素(block-level element)和内联元素(inline element)

## 块级元素
常见的块级元素有div、li和table等。需要注意的是“块级元素”和“display为block的元素”不是一个概念。例如，li元素默认的display值是list-item，table元素默认的display值是table，但是它们均是“块级元素”，因为它们都符合块级元素的基本特征，也就是一个水平流上只能单独显示一个元素，多个块级元素则换行显示。

正是由于“块级元素”具有换行特性，因此理论上它都可以配合clear属性来清除浮动带来的影响。例如
```css
.clear::after{
    content: '';
    display: table; // 也可以是block，或则是list-item
    clear: both;
}
```

> 实际开发时，一般使用table，并不会使用list-item，应为1.list-item的字符比较多，2.会出现不需要的项目符号，3.IE浏览器不支持伪元素的值为list-item

### 为什么list-item元素会出现项目符号
盒子分为：块级盒子(block-level box)和内联盒子(inline box)。块级盒子就负责结构，内联盒子就负责内容。

之所以list-item元素会出现项目符号是因为生成了一个附加的盒子，学名“标记盒子”，专门用来放圆点、数字这些项目符号。

每个元素都有两个盒子，外在盒子和内在盒子。外在盒子负责元素是可以一行显示，还是只能换行显示；内在盒子负责宽高、内容呈现什么的。或则内在盒子叫“容器盒子”

按照display的属性值不同，值为block的元素的盒子实际由外在的“块级盒子”和内在的”块级容器盒子“组成，值为inline-block的元素则由外在的“内联盒子”和内在的“块级容器盒子”组成，值为inline的元素则内外均是“内联盒子”

明白为何display属性值是inline-block的元素既能和图文一行显示，又能直接设置width/height。因为有两个盒子，外面的盒子是inline级别，里面的盒子是block级别

### width/height作用在哪个盒子上
是内在盒子，也就是“容器盒子”

## width/height作用的具体细节

### 深藏不露的width:auto
width的默认值是auto。auto因为是默认值，所以出镜率不高，但是，它却是个深藏不露的家伙，它至少包含了以下四种不同的宽度表现

+ 1.充分利用可用空间。比方说div，p这些元素的宽度默认是100%于父级容器的
+ 2.收缩与包裹。典型代表就是浮动、绝对定位、inline-block元素或table元素。css3中的fit-content指的就是这种宽度表现
+ 3.收缩到最小。这个容易出现在table-layout为auto的表格中
+ 4.超出容器限制。除非有明确的width相关设置，否则上面3种情况尺寸都不会主动超过父级容器宽度，但是存在一些特殊情况。例如设置white-space: nowrap

> 在css世界中，盒子分“内在盒子”和“外在盒子”，显示也分“内部显示”和“外部显示”，同样尺寸也分“内部尺寸”和“外部尺寸”。其中“内部尺寸”由内部元素决定，“外部尺寸”宽度由外部元素决定

> div默认宽度100%显示，是“外部尺寸”其余全部是“内部尺寸”。而这唯一的“外部尺寸”，是“流”的精髓所在

#### 外部尺寸与流体特性
1.正常流宽度 100%

在页面中随便扔一个div元素，其尺寸表现就会和水流一样铺满容器。这就是block容器的流特性。这种特性。所有的浏览器的表现都是一致的

```css
/* example */
a {
    display: block;
    width: 100%
}
```

a元素默认display是inline，所以，设置display:block使其块状化绝对没有问题，但后面的width:100%就没有任何必要的出现

> "鑫三无准则"，既“无宽度，无图片，无浮动”为何要“无宽度”?  原因很简单，表现为“外部尺寸”的块级元素一旦设置了宽度，流动性就丢失了

> 所谓流动性，并不是看上去的宽度100%显示这么简单，而是一种margin/border/padding/content内容区域自动分配水平空间的机制

👉 [example](https://demo.cssworld.cn/3/2-3.php)

这是一个对比演示，上下两个导航均有margin和padding，前者无width设置，完全借助流的特性，后者宽度width:100%。结果，后者的尺寸超出了外部的容器，完全就不像“水流”那样完全利用容器空间，即所谓的“流动性丢失”

2.格式化宽度
格式化宽度仅出现在“绝对定位模型”中，也就是出现在position属性值为absolute和fixed的元素中。在默认情况下，绝对定位元素的宽度表现是“包裹性”，宽度由内部尺寸决定，但是，有一种情况其宽度是外部尺寸决定的。

对于非替换元素，当left/right或top/bottom对立方位的属性值同时存在的时候，元素的宽度表现为“格式化宽度”，其宽度大小相对于最近的具有定位特性(position属性值不是static)的祖先元素计算

👉 [example](./格式化宽度/index.html)

> 此外和上面的普通流一样，“格式化宽度”具有完全的流体性，也就是margin、border、padding和content内容区域同样会自动分配水平（和垂直）空间

#### 内部尺寸与流体特性
所谓“内部尺寸”，简单来讲就是元素的尺寸由内部的元素决定，而非由外部的容器决定。如何判断一个元素使用的是否为“内部尺寸”呢？很简单，假如这个元素里面没有内容，宽度就是0，那就是应用的“内部尺寸”

1.包裹性
“包裹性”除了“包裹”，还有“自适应性”。“自适应性”是区分后面两种尺寸表现很重要的一点。那么这个“自适应”指的是什么呢？

所谓“自适应性”指的是元素尺寸由内部元素决定，但永远小于“包含块”容器的尺寸(除非容器尺寸小于元素的“首选最小宽度”)。换句话说就是，“包裹性”元素冥冥中有个max-width:100%罩着的感觉(注意：此说法只是便于大家理解，实际上是有明显却别的)

因此，对于一个元素，如果其display属性值是inline-block，那么即使其里面内容再多，只要是正常的文本，宽度也不会超过容器。于是，图文混排的时候，我们只要关心内容，除非“首选最小宽度”比容器宽度要大，否则我们完全不需要担心某个元素内容太多而破坏了布局

按钮就是css世界中极具代表性的inline-block元素，可谓展示“包裹性”最好的例子，具体表现为：按钮文字越多宽度越宽(内部尺寸特性)，但如果文字足够多，则会在容器的宽度处自动换行(自适应特性)

👉 [example](https://demo.cssworld.cn/3/2-4.php)

> button标签按钮才会自动换行，input标签按钮，默认white-space: pre，是不会换行的，需要将pre值重置为默认的normal

**”包裹性“对与实际开发有什么作用呢？**

请看这个需求：页面某个模块的文字内容是动态的，可能是几个字，也可能是一句话。然后希望文字少的时候居中显示，文字超过一行的时候居左显示

👉 [example](https://demo.cssworld.cn/3/2-5.php)

> 除了inline-block元素，浮动元素以及决定定位元素都具有包裹性，均有类似的智能宽度行为